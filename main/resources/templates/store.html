<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <link rel="stylesheet" href="/css/styles.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
    
   	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   	
   	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"></script>
 
  
    <script type="text/javascript" src="/js/script.js"></script>
   	
</head>

       <style>
       
.navbar {
    height: 60px !important;
}

.navbar-nav .nav-link {
    color: white !important;
}

.navbar-nav .nav-link:hover {
    color: #00BFFF !important;
}

.navigation-wrap {
    background-color: #343a40 !important;
}
#title{
margin-top:120px!important;

}

#videoCarousel{
position:relative;
top:80px;
height:20px;


}


  .card {
    transition: box-shadow 0.3s ease; 
     box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4); 
     min-width :150px;
}

.card:hover {
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.8); 
    transform: scale(1.1);
}
  
       </style>

<body>
<div th:include="layout/navbar :: navbar"></div>

<!-- https://stackoverflow.com/questions/25133807/thymeleaf-how-to-use-conditionals-to-dynamically-add-remove-a-css-class  -->
    <!-- https://education.launchcode.org/java-web-development/chapters/thymeleaf-views/template-iteration.html -->
    <!--     th:each="video, iterStat : ${videoLista}": itera su videoLista (che dovrebbe contenere gli ID dei video YouTube), creando una nuova slide per ogni video.
    th:classappend="${iterStat.first} ? 'active' : ''": rende il primo elemento del carosello "attivo" per Bootstrap, così che venga mostrato come slide iniziale.
    <iframe th:src="'https://www.youtube.com/embed/' + ${video}": per ogni video, genera un URL https://www.youtube.com/embed/VIDEO_ID, dove VIDEO_ID è l'ID del video di YouTube salvato nel database.

Nota

Assicurati che videoLista contenga solo gli ID dei video di YouTube (e.g., "dQw4w9WgXcQ"
 per https://www.youtube.com/watch?v=dQw4w9WgXcQ), e non l’intero URL.
  Questo renderà più semplice creare un URL compatibile per l'<iframe>. -->


<section class="container mb-5 mt-5">

<div id="title" class="container , mt-5 justify-contente-center text-center align-items-center" > <h2> STORE </h2> </div>

    <div class= " container row text-center justify-content-center align-items-center mt-5">
        <div class="col-md-6" th:each="prodotto : ${lista}">
            <div class="card border-dark mb-4" style="height: 450px; color: #333;">
                <div class="card-content-wrapper" style="height: 200px;">
                     <div class="card-img-top d-flex justify-content-center align-items-center" style="height: 80px; background: #f8f9fa;">
                            <img th:src="${prodotto.img}" alt="Immagine Prodotto" class="img-fluid" style="object-fit: contain; height: 100px; padding-top:10px;">
                        </div>  
                    
                    <div class="card-body text-center">
                        <div style="height:80px">
                            <h5 class="card-title" th:text="${prodotto.nome}"></h5>
                        </div> 
                        <p class="card-text">Prezzo: <span th:text="${prodotto.prezzo} + ' €'"></span></p>
                        <form action="/aggiungiCarrello" method="post">
                            <input type="hidden" name="nome" th:value="${prodotto.nome}">
                            <button type="submit" class="btn btn-dark mt-2">Aggiungi Carrello</button>
                        </form>
                    </div>
                </div><!-- fine div card-content-wrapper -->

                <div class="card-footer text-muted">
                    <a class="text-dark" data-toggle="collapse" href="#card-details" role="button" aria-expanded="false" aria-controls="card-details">
                        <strong>Dettagli</strong>
                    </a>
                    <div class="collapse" id="card-details">
                        <div class="pt-3">
                            <p>Descrizione: <span th:text="${prodotto.descrizione}"></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<!-- footer -->

<div th:include="layout/footer :: footer"></div>

</body>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</html>

<!--   
<div id="videoCarousel" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
   
        <div th:each="video, iterStat : ${videoLista}" class="carousel-item" th:classappend="${iterStat.first} ? 'active' : ''">
            <video th:src="${video}" class="d-block w-100" controls></video>
        </div>
    </div>
    <a class="carousel-control-prev" href="#videoCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#videoCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
<div th:if="${#lists.isEmpty(videoList)}">
    <p>Nessun video disponibile.</p>
</div>
-->
    <!-- Fine del carosello -->
